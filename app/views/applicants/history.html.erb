<% if false %>
<% @permitted_list=Request.find_all_by_status_and_applicant_id(0, @applicant.id,:order=>'week desc, day desc, time desc')%>
<% @rejected_list=Request.find_all_by_status_and_applicant_id(1, @applicant.id,:order=>'week desc, day desc, time desc')%>
<% @waiting_list=Request.find_all_by_status_and_applicant_id(2, @applicant.id,:order=>'week desc, day desc, time desc')%>
<% @cancelled_list=Request.find_all_by_status_and_applicant_id(3, @applicant.id,:order=>'week desc, day desc, time desc')%>
<% end %>

<% @buildings = Request.buildings %>
<% @days = Request.days %>
<div class="col-xs-offset-2 col-xs-8">
	<ul class="nav nav-tabs">
	    <li class="active"><a href="#waiting">Waiting</a></li>
	    <li><a href="#permitted" >Permitted</a></li>
	    <li><a href="#rejected" >Rejected</a></li>
	    <li><a href="#cancelled" >Cancelled</a></li>
	</ul>

	<div class="tab-content" id="tabs">
	  <div class="tab-pane fade active" id="waiting">
	    <div class="row">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3>Reservation Request <span class="label label-info">Waiting </span></h3>
					</div>
					<table class="table" id="requests-list">  
						<thead>
							<tr>      
								<th>Week</th>
								<th>Day</th>
								<th>Time</th>
								<th>Building</th>
								<th>Room</th>
								<th>Details</th>
							</tr>
						<thead>
						<tbody>
							<% if @waiting_list != nil %>
								<% @waiting_list.each do |request| %> 
									<tr>                                 
										<td><%= request.week %></td> 
										<td><%= @days[request.day] %></td>
										<td>Course <%=request.time %> ~ <%=request.time + 1%></td>
										<td><%= @buildings[request.building] %></td>
										<td><%= request.location %></td>                              
										<% str= '/applicants/'+@applicant.id.to_s+'/requests/'+request.id.to_s+'/show/' %> 
										<td><%= link_to 'View detail', str, :method => :get %>
										</td>
									</tr>
								<%end%>
							<%end%>
						</tbody>
					</table>
					<%= will_paginate @waiting_list %>
				</div>
  		</div>
  	</div>
  	<div class="tab-pane fade active" id="waiting">
	    <div class="row">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3>Reservation Request <span class="label label-info">Waiting </span></h3>
					</div>
					<table class="table" id="requests-list">  
						<thead>
							<tr>      
								<th>Week</th>
								<th>Day</th>
								<th>Time</th>
								<th>Building</th>
								<th>Room</th>
								<th>Details</th>
							</tr>
						<thead>
						<tbody>
							<% if @waiting_list != nil %>
								<% @waiting_list.each do |request| %> 
									<tr>                                 
										<td><%= request.week %></td> 
										<td><%= @days[request.day] %></td>
										<td>Course <%=request.time %> ~ <%=request.time + 1%></td>
										<td><%= @buildings[request.building] %></td>
										<td><%= request.location %></td>                              
										<% str= '/applicants/'+@applicant.id.to_s+'/requests/'+request.id.to_s+'/show/' %> 
										<td><%= link_to 'View detail', str, :method => :get %>
										</td>
									</tr>
								<%end%>
							<%end%>
						</tbody>
					</table>
					<%= will_paginate @waiting_list %>
				</div>
  		</div>
  	</div>


  <div class="row">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3>Reservation Request <span class="label label-success">Permitted</span></h3>
			</div>
			<table class="table" id="requests-list">  
				<thead>
					<tr>      
						<th>Week</th>
						<th>Day</th>
						<th>Time</th>
						<th>Building</th>
						<th>Room</th>
						<th>Details</th>
					</tr>
				<thead>
				<tbody>
					<% if @permitted_list != nil %>
						<% @permitted_list.each do |request| %> 
							<tr>
								<!-- status :waiting list -->
								<!-- <td>Room status: permitted </td> -->                                 
								<td><%= request.week %></td> 
								<td><%= @days[request.day] %></td>
								 <td>Course <%=request.time %> ~ <%=request.time + 1%></td>
								<td><%= @buildings[request.building] %></td>
								<td><%= request.location %></td>                              
								<% str= '/applicants/'+@applicant.id.to_s+'/requests/'+request.id.to_s+'/show/' %> 
								<td><%= link_to 'View detail', str, :method => :get %>
								</td>
							</tr>
						<%end%>
					<%end%>
				</tbody>
			</table>
		</div>
	</div>

  <div class="row">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3>Reservation Request <span class="label label-danger">Rejected</span></h3>
			</div>
			<table class="table" id="requests-list">  
				<thead>
					<tr>      
						<th>Week</th>
						<th>Day</th>
						<th>Time</th>
						<th>Building</th>
						<th>Location</th>
						<th>Details</th>
					</tr>
				<thead>
				<tbody>
					<% if @rejected_list != nil %>
						<% @rejected_list.each do |request| %> 
							<tr>
								<!-- status :waiting list -->
									<!-- <td>Room status: rejected </td> -->                                 
									<td><%= request.week %></td> 
									<td><%= @days[request.day] %></td>
									 <td>Course <%=request.time %> ~ <%=request.time + 1%></td>
									<td><%= @buildings[request.building] %></td>
									<td><%= request.location %></td>                              
									<% str= '/applicants/'+@applicant.id.to_s+'/requests/'+request.id.to_s+'/show/' %> 
									<td><%= link_to 'View detail', str, :method => :get %>
									</td>
							</tr>
						<%end%>
					<%end%>
				</tbody>
			</table>
		</div>
	</div>


	
  <div class="row">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3>Reservation Request <span class="label label-default">Cancelled </span></h3>
			</div>
			<table class="table" id="requests-list">  
				<thead>
					<tr>      
						<th>Week</th>
						<th>Day</th>
						<th>Time</th>
						<th>Building</th>
						<th>Room</th>
						<th>Details</th>
					</tr>
				<thead>
				<tbody>
					<% if @cancelled_list != nil %>
						<% @cancelled_list.each do |request| %> 
							<tr>
								<!-- status :waiting list -->
									<!-- <td>Room status: cancelled </td> -->                                 
								<td><%= request.week %></td> 
								<td><%= @days[request.day] %></td>
								 <td>Course <%=request.time %> ~ <%=request.time + 1%></td>
								<td><%= @buildings[request.building] %></td>
								<td><%= request.location %></td>                              
								<% str= '/applicants/'+@applicant.id.to_s+'/requests/'+request.id.to_s+'/show/' %> 
								<td><%= link_to 'View detail', str, :method => :get %>
								</td>
							</tr>
						<%end%>
					<%end%>
				</tbody>
			</table>
		</div>
	</div>
	<% end %>
</div>

<!-- <nav>
  <ul class="pagination">
	<li>
	  <a href="#" aria-label="Previous">
		<span aria-hidden="true">&laquo;</span>
	  </a>
	</li>
	<li><a href="#">1</a></li>
	<li><a href="#">2</a></li>
	<li><a href="#">3</a></li>
	<li><a href="#">4</a></li>
	<li><a href="#">5</a></li>
	<li>
	  <a href="#" aria-label="Next">
		<span aria-hidden="true">&raquo;</span>
	  </a>
	</li>
  </ul>
</nav> -->
